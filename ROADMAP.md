# 🗺️ AnkiTrans 路线图 (Roadmap)

本文档旨在记录 AnkiTrans 的发展历程、当前功能状态及未来可能的规划方向。

## ✅ 已完成 (Current Status)

AnkiTrans 已经建立了一个完整且稳定的划词制卡核心流程，并在多方面进行了体验优化。

### 核心功能 (Core Features)

* **🔍 划词翻译系统 (Selection & Translation)**
  * [x] **智能划词图标**：选中单词后自动浮出操作图标，减少视觉干扰。
  * [x] **悬浮预览卡片**：提供即时翻译预览，包含音标、释义等关键信息。
  * [x] **必应词典接入**：集成权威词库，数据覆盖丰富（美音/英音、例句、固定搭配、同义词）。
  * [x] **多模态数据展示**：自动处理单词变形（复数、时态），智能提取最常用释义。

* **⚡️ 极速制卡工作流 (Workflow)**
  * [x] **"先查后存" 模式**：点击悬浮图标 → 预览释义 → 点击"添加到 Anki"。
  * [x] **快捷键直存**：支持 `Ctrl+Shift+A` (默认) 一键将选中文本静默添加到 Anki，无需任何弹窗干扰。
  * [x] **右键菜单集成**：支持通过浏览器上下文菜单快速添加单词。
  * [x] **快捷键唤起查词**：支持 `Alt+Q` (默认) 快速唤起悬浮查词卡片。

* **🔗 Anki 深度集成 (Integration)**
  * [x] **AnkiConnect 桥接**：基于 HTTP 协议与本地 Anki 实时通信。
  * [x] **连通性自动检测**：智能检测 Anki 服务状态，并提供友好的错误提示与重连指引。
  * [x] **牌组管理**：
    * 自动获取并列出所有可用牌组。
    * 支持直接在扩展内 **新建牌组**，无需切换至 Anki。

* **🎨 卡片模板与 UI (Templates & UI)**
  * [x] **专属 Note Type**：自动在 Anki 中创建 `AnkiTrans` 笔记类型，字段结构化（Word, Phonetic, Translation, Example...）。
  * [x] **精美样式设计**：内置 CSS 样式，完美适配桌面端与移动端 (iOS/Android)，支持 **深色模式 (Dark Mode)**。
  * [x] **WYSIWYG 预览**：制卡前提供真实的卡片预览模态框，支持在浏览器中直接试听发音。

* **⚙️ 现代化设置页 (Settings)**
  * [x] **侧边栏导航布局**：采用现代化的 Sidebar 布局，设置分类清晰。
  * [x] **快捷键自定义**：支持用户录制自定义快捷键，并提供常用系统快捷键冲突检测。
  * [x] **功能开关**：支持开启/关闭“制卡前预览”功能（静默模式）。

---

## 🚧 待优化 / 计划中 (Optimization & Planned)

以下功能可能正在开发中或计划在近期版本迭代：

* **多词典源支持**
  * [ ] 接入更多国内或本地词典 (如有道、自定义离线词库等) 以符合数据隐私与访问速度需求。
  * [ ] 支持用户自定义词典优先级。

* **制卡体验增强**
  * [ ] **上下文句子自动捕获**：在制卡时自动保存单词所在的句子作为“来源例句”。
  * [ ] **图片自动抓取**：尝试自动为单词匹配相关图片。
  * [ ] **标签系统 (Tags)**：支持在制卡时快速添加/选择 Anki 标签。

* **数据同步与备份**
  * [ ] **历史记录 (History)**：本地保存最近查询/添加的单词记录，防止误操作丢失。
  * [ ] **生词本导出**：支持将记录导出为 CSV/TXT 格式。

---

## 🔮 远期规划 (Future Ideas)

* **AI 赋能 (LLM Integration)**
  * [ ] 利用 AI 模型生成更贴合语境的例句。
  * [ ] 智能分析长难句语法结构。
  * [ ] 助记法生成 (Mnemonic generation)。

* **跨平台/更多场景**
  * [ ] **Firefox 浏览器支持**：适配 Firefox 的 Manifest V3 标准。
  * [ ] PDF 阅读器支持 (基于 PDF.js 的划词支持)。
  * [ ] 视频字幕划词支持 (如 YouTube/Netflix 字幕提取)。

* **统计与反馈**
  * [ ] 提供简单的制卡统计图表 (今日制卡数、累计制卡数)。
  * [ ] 学习曲线分析。
